(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{4975:function(e,t,r){Promise.resolve().then(r.bind(r,2730))},2730:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var a=r(7573),s=r(7653),n=r(1695),o=r(8146),l=r(5330),i=r(1569),c=r(7686),u=r(3919),d=r(3029),m=r(6741);function h(){let[e,t]=(0,s.useState)(!0),[r,h]=(0,s.useState)(""),[f,x]=(0,s.useState)(""),[p,y]=(0,s.useState)(""),[g,w]=(0,s.useState)(""),[v,b]=(0,s.useState)(!1),{login:j,register:k}=(0,m.a)(),N=(0,n.useRouter)(),S=async t=>{t.preventDefault(),w(""),b(!0);try{e?await j(r,f):await k(r,f,p),N.push("/tools/merge")}catch(e){w(e instanceof Error?e.message:"Something went wrong")}finally{b(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-accent-50 py-12 px-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(o.default,{href:"/",className:"text-2xl font-bold gradient-text",children:"Desi Converter"}),(0,a.jsx)("h1",{className:"mt-6 text-3xl font-bold text-slate-900",children:e?"Welcome back":"Create account"}),(0,a.jsx)("p",{className:"mt-2 text-slate-600",children:e?"Sign in to your account":"Get started with your free account"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-slate-100",children:[g&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-xl text-sm",children:g}),(0,a.jsxs)("form",{onSubmit:S,className:"space-y-5",children:[!e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,a.jsx)("input",{type:"text",value:p,onChange:e=>y(e.target.value),placeholder:"John Doe",className:"w-full pl-12 pr-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,a.jsx)("input",{type:"email",value:r,onChange:e=>h(e.target.value),placeholder:"you@example.com",required:!0,className:"w-full pl-12 pr-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,a.jsx)("input",{type:"password",value:f,onChange:e=>x(e.target.value),placeholder:"••••••••",required:!0,minLength:6,className:"w-full pl-12 pr-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,a.jsx)("button",{type:"submit",disabled:v,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-xl font-semibold hover:from-primary-600 hover:to-primary-700 transition-all disabled:opacity-50",children:v?(0,a.jsx)(u.Z,{className:"w-5 h-5 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[e?"Sign In":"Create Account",(0,a.jsx)(d.Z,{className:"w-5 h-5"})]})})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:()=>t(!e),className:"text-primary-600 hover:text-primary-700 font-medium",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})}},6741:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return l},a:function(){return i}});var a=r(7573),s=r(7653);let n=(0,s.createContext)(void 0),o="http://localhost:4000";function l(e){let{children:t}=e,[r,l]=(0,s.useState)(null),[i,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("accessToken");e?(c(e),m(e)):d(!1)},[]);let m=async e=>{try{let t=await fetch("".concat(o,"/api/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();l(e)}else localStorage.removeItem("accessToken"),c(null)}catch(e){console.error("Failed to fetch user:",e)}finally{d(!1)}},h=async(e,t)=>{let r=await fetch("".concat(o,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok)throw Error((await r.json()).message||"Login failed");let a=await r.json();localStorage.setItem("accessToken",a.accessToken),c(a.accessToken),l(a.user)},f=async(e,t,r)=>{let a=await fetch("".concat(o,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:r})});if(!a.ok)throw Error((await a.json()).message||"Registration failed");let s=await a.json();localStorage.setItem("accessToken",s.accessToken),c(s.accessToken),l(s.user)};return(0,a.jsx)(n.Provider,{value:{user:r,token:i,login:h,register:f,logout:()=>{localStorage.removeItem("accessToken"),c(null),l(null)},isLoading:u},children:t})}function i(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4313:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(7653),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,a.forwardRef)((r,o)=>{let{color:l="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:d="",children:m,...h}=r;return(0,a.createElement)("svg",{ref:o,...s,width:i,height:i,stroke:l,strokeWidth:u?24*Number(c)/Number(i):c,className:["lucide","lucide-".concat(n(e)),d].join(" "),...h},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},3029:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(4313).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3919:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(4313).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7686:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(4313).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},1569:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(4313).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5330:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(4313).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},8146:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(6340),s=r.n(a)},1695:function(e,t,r){"use strict";var a=r(1219);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[340,293,528,744],function(){return e(e.s=4975)}),_N_E=e.O()}]);