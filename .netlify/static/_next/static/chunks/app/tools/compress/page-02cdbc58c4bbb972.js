(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{3385:function(e,t,s){Promise.resolve().then(s.bind(s,9098))},9098:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(7573),r=s(7653);let o=(0,s(4313).Z)("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);var l=s(3029),i=s(3919),n=s(3896),d=s(1733),c=s(6065),m=s(9127),h=s(5118);let f=[{value:"low",label:"Low Compression",desc:"Best quality, larger file",reduction:"~20%"},{value:"medium",label:"Recommended",desc:"Good balance",reduction:"~50%"},{value:"high",label:"High Compression",desc:"Smallest size",reduction:"~75%"}];function x(){let[e,t]=(0,r.useState)([]),[s,x]=(0,r.useState)("medium"),[u,p]=(0,r.useState)("idle"),[g,j]=(0,r.useState)(null),[w,b]=(0,r.useState)(0),[y,v]=(0,r.useState)(null),[N,S]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!g||"processing"!==u)return;let t=setInterval(async()=>{try{var t;let s=await h.h.getJobStatus(g);if(b(s.progress),"COMPLETED"===s.status&&(null===(t=s.outputFiles)||void 0===t?void 0:t[0])){p("completed");let t=await h.h.getDownloadUrl(s.outputFiles[0].id);S({...t,originalSize:e.reduce((e,t)=>e+t.size,0),newSize:s.outputFiles[0].size})}else"FAILED"===s.status&&(p("error"),v(s.error||"Compression failed"))}catch(e){console.error("Error polling:",e)}},1e3);return()=>clearInterval(t)},[g,u,e]);let k=async()=>{if(0!==e.length){p("processing"),b(0);try{let t=e.map(e=>e.id),a=await h.h.compressPdf(t,s);j(a.jobId)}catch(e){p("error"),v("Failed to start compression")}}},O=e=>e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB"),P=()=>{t([]),x("medium"),p("idle"),j(null),b(0),v(null),S(null)};return(0,a.jsx)("div",{className:"min-h-screen py-12 bg-gradient-to-b from-orange-50 to-white",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"text-center mb-10",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center mx-auto mb-6 shadow-lg shadow-orange-500/25",children:(0,a.jsx)(o,{className:"w-10 h-10 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Compress PDF & Images"}),(0,a.jsx)("p",{className:"mt-3 text-lg text-slate-600",children:"Reduce file size of PDFs and images while maintaining quality"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-slate-100",children:["idle"===u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{accept:{"application/pdf":[".pdf"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/webp":[".webp"]},maxFiles:10,onFilesUploaded:e=>{e.length>0&&(t(e),v(null),p("idle"))},multiple:!0}),e.length>0&&(0,a.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Compression Level"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4",children:f.map(e=>(0,a.jsxs)("button",{onClick:()=>x(e.value),className:"p-4 rounded-xl border-2 text-left transition-all ".concat(s===e.value?"border-orange-500 bg-orange-50":"border-slate-200 hover:border-orange-200"),children:[(0,a.jsx)("div",{className:"font-medium text-slate-900",children:e.label}),(0,a.jsx)("div",{className:"text-sm text-slate-500",children:e.desc}),(0,a.jsxs)("div",{className:"text-xs text-orange-600 mt-1",children:["Size reduction: ",e.reduction]})]},e.value))})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("button",{onClick:k,className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold text-lg hover:from-orange-600 hover:to-orange-700 transition-all hover-lift shadow-lg shadow-orange-500/25",children:["Compress ",e.length>1?"Files":"File",(0,a.jsx)(l.Z,{className:"w-5 h-5"})]})})]})]}),"processing"===u&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 text-orange-500 animate-spin mx-auto mb-6"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Compressing files..."}),(0,a.jsxs)("div",{className:"mt-4 max-w-xs mx-auto",children:[(0,a.jsx)("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-600 transition-all",style:{width:"".concat(w,"%")}})}),(0,a.jsxs)("p",{className:"mt-2 text-slate-500",children:[w,"% complete"]})]})]}),"completed"===u&&N&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(n.Z,{className:"w-10 h-10 text-green-600"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Compression Complete!"}),(0,a.jsxs)("div",{className:"mt-6 p-6 bg-slate-50 rounded-2xl max-w-sm mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("div",{className:"text-slate-500",children:"Original"}),(0,a.jsx)("div",{className:"font-semibold text-slate-900",children:O(N.originalSize)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("div",{className:"text-slate-500",children:"Compressed"}),(0,a.jsx)("div",{className:"font-semibold text-green-600",children:O(N.newSize)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-slate-200",children:[(0,a.jsx)("div",{className:"text-slate-500",children:"Saved"}),(0,a.jsxs)("div",{className:"font-bold text-orange-600",children:[Math.round((1-N.newSize/N.originalSize)*100),"%"]})]})]}),(0,a.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[(0,a.jsxs)("button",{onClick:()=>window.open(N.url,"_blank"),className:"inline-flex items-center justify-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all hover-lift shadow-lg shadow-green-500/25",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5"}),"Download"]}),(0,a.jsx)("button",{onClick:P,className:"px-8 py-4 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:"Compress Another"})]})]}),"error"===u&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(c.Z,{className:"w-10 h-10 text-red-600"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Something went wrong"}),(0,a.jsx)("p",{className:"mt-2 text-red-600",children:y}),(0,a.jsx)("button",{onClick:P,className:"mt-8 px-8 py-4 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:"Try Again"})]})]})]})})}},9127:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var a=s(7573),r=s(7653),o=s(3868),l=s(3919);let i=(0,s(4313).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var n=s(6673),d=s(269),c=function(){for(var e,t,s=0,a="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,a,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(s=0;s<o;s++)t[s]&&(a=e(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a)}return r}(e))&&(a&&(a+=" "),a+=t);return a},m=s(5118);function h(e){let{accept:t={"application/pdf":[".pdf"]},maxFiles:s=10,maxSize:h=15728640,onFilesUploaded:f,multiple:x=!0}=e,[u,p]=(0,r.useState)([]),[g,j]=(0,r.useState)(!1),[w,b]=(0,r.useState)(null),y=(0,r.useCallback)(async e=>{if(0!==e.length){j(!0),b(null);try{if(x){let t=await m.h.uploadMultiple(e);p(e=>[...e,...t]),f([...u,...t])}else{let t=await m.h.uploadFile(e[0]);p([t]),f([t])}}catch(e){console.error("Upload error:",e),b((null==e?void 0:e.message)||"Failed to upload files. Please try again.")}finally{j(!1)}}},[u,x,f]),v=e=>{let t=u.filter(t=>t.id!==e);p(t),f(t)},{getRootProps:N,getInputProps:S,isDragActive:k}=(0,o.uI)({onDrop:y,accept:t,maxFiles:s,maxSize:h,multiple:x}),O=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB");return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{...N(),className:c("dropzone relative border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all",k?"border-primary-500 bg-primary-50":"border-slate-300 hover:border-primary-400 hover:bg-slate-50"),children:[(0,a.jsx)("input",{...S()}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[g?(0,a.jsx)(l.Z,{className:"w-12 h-12 text-primary-500 animate-spin"}):(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center",children:(0,a.jsx)(i,{className:"w-8 h-8 text-primary-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-medium text-slate-700",children:k?"Drop files here...":"Drag & drop files here"}),(0,a.jsxs)("p",{className:"text-slate-500 mt-1",children:["or ",(0,a.jsx)("span",{className:"text-primary-600 font-medium",children:"browse files"})]})]}),(0,a.jsxs)("p",{className:"text-sm text-slate-400",children:["Max ",O(h)," per file â€¢ ",s," files max"]})]})]}),w&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-red-50 text-red-600 rounded-xl text-sm",children:w}),u.length>0&&(0,a.jsx)("div",{className:"mt-6 space-y-3",children:u.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:(0,a.jsx)(n.Z,{className:"w-5 h-5 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-slate-700 truncate max-w-[200px] sm:max-w-none",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:O(e.size)})]})]}),(0,a.jsx)("button",{onClick:()=>v(e.id),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:(0,a.jsx)(d.Z,{className:"w-5 h-5"})})]},e.id))})]})}},5118:function(e,t,s){"use strict";s.d(t,{h:function(){return l}});let a="http://localhost:4000";function r(){let e=localStorage.getItem("accessToken"),t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t}class o{async uploadFile(e){let t=new FormData;t.append("file",e);let s=localStorage.getItem("accessToken"),r={};s&&(r.Authorization="Bearer ".concat(s));let o=await fetch("".concat(a,"/api/files/upload"),{method:"POST",headers:r,body:t});if(!o.ok)throw Error((await o.json().catch(()=>({}))).message||"Upload failed");return o.json()}async uploadMultiple(e){let t=new FormData;e.forEach(e=>t.append("files",e));let s=localStorage.getItem("accessToken"),r={};s&&(r.Authorization="Bearer ".concat(s));let o=await fetch("".concat(a,"/api/files/upload-multiple"),{method:"POST",headers:r,body:t});if(!o.ok)throw Error((await o.json().catch(()=>({}))).message||"Upload failed");return o.json()}async getDownloadUrl(e){let t=await fetch("".concat(a,"/api/files/").concat(e,"/download"),{headers:r()});if(!t.ok)throw Error("Failed to get download URL");return t.json()}async getJobStatus(e){let t=await fetch("".concat(a,"/api/jobs/").concat(e),{headers:r()});if(!t.ok)throw Error("Failed to get job status");return t.json()}async mergePdfs(e){let t=await fetch("".concat(a,"/api/tools/merge"),{method:"POST",headers:r(),body:JSON.stringify({fileIds:e})});if(!t.ok)throw Error((await t.json().catch(()=>({}))).message||"Merge request failed");return t.json()}async splitPdf(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=await fetch("".concat(a,"/api/tools/split"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,mode:t,...s})});if(!o.ok)throw Error((await o.json().catch(()=>({}))).message||"Split request failed");return o.json()}async compressPdf(e,t){let s=await fetch("".concat(a,"/api/tools/compress"),{method:"POST",headers:r(),body:JSON.stringify({fileIds:e,level:t})});if(!s.ok)throw Error((await s.json().catch(()=>({}))).message||"Compress request failed");return s.json()}async rotatePdf(e,t,s){let o=await fetch("".concat(a,"/api/tools/rotate"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,rotation:t,pageNumbers:s})});if(!o.ok)throw Error((await o.json().catch(()=>({}))).message||"Rotate request failed");return o.json()}async reorderPdf(e,t){let s=await fetch("".concat(a,"/api/tools/reorder"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,limit_order:t})});if(!s.ok)throw Error((await s.json().catch(()=>({}))).message||"Reorder request failed");return s.json()}async pdfToWord(e){let t=await fetch("".concat(a,"/api/tools/pdf-to-word"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e})});if(!t.ok)throw Error("Conversion failed");return t.json()}async wordToPdf(e){let t=await fetch("".concat(a,"/api/tools/word-to-pdf"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e})});if(!t.ok)throw Error("Conversion failed");return t.json()}async ocr(e,t){let s=await fetch("".concat(a,"/api/tools/ocr"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,language:t})});if(!s.ok)throw Error("OCR failed");return s.json()}async pdfToImage(e,t,s){let o=await fetch("".concat(a,"/api/tools/pdf-to-image"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,format:t,dpi:s})});if(!o.ok)throw Error("Conversion failed");return o.json()}async protectPdf(e,t,s){let o=await fetch("".concat(a,"/api/tools/protect"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,password:t,ownerPassword:s})});if(!o.ok)throw Error("Protection failed");return o.json()}async unlockPdf(e,t){let s=await fetch("".concat(a,"/api/tools/unlock"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,password:t})});if(!s.ok)throw Error("Unlock failed");return s.json()}async watermarkPdf(e,t,s){let o=await fetch("".concat(a,"/api/tools/watermark"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,text:t,...s})});if(!o.ok)throw Error("Watermark failed");return o.json()}async signPdf(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"handwritten",o=await fetch("".concat(a,"/api/tools/sign"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,text:t,style:s})});if(!o.ok)throw Error("Signing failed");return o.json()}}let l=new o},269:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(4313).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[116,293,528,744],function(){return e(e.s=3385)}),_N_E=e.O()}]);