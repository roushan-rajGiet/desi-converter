(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{643:function(e,t,a){Promise.resolve().then(a.bind(a,1))},1:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var s=a(7573),r=a(7653),o=a(4313);let l=(0,o.Z)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);var n=a(3919),i=a(6673),c=a(997);let d=(0,o.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),h=(0,o.Z)("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);var u=a(3029),p=a(6065),m=a(3896),f=a(1733),x=a(3868),g=a(5118),w=a(6741);function j(){var e;let{user:t}=(0,w.a)(),[a,o]=(0,r.useState)(null),[j,y]=(0,r.useState)("idle"),[b,N]=(0,r.useState)(null),[v,k]=(0,r.useState)(0),[S,P]=(0,r.useState)(null),[T,O]=(0,r.useState)(null),[E,F]=(0,r.useState)(!1),[C,D]=(0,r.useState)(90);(0,r.useEffect)(()=>{if(!b||"processing"!==j)return;let e=setInterval(async()=>{try{let e=await g.h.getJobStatus(b);if(k(e.progress),"COMPLETED"===e.status){if(y("completed"),e.outputFiles&&e.outputFiles.length>0){let t=await g.h.getDownloadUrl(e.outputFiles[0].id);O(t)}}else"FAILED"===e.status&&(y("error"),P(e.error||"Processing failed"))}catch(e){console.error("Error polling job status:",e),P("Failed to check job status"),y("error")}},1e3);return()=>clearInterval(e)},[b,j]);let J=(0,r.useCallback)(async e=>{if(0!==e.length){F(!0),P(null);try{let t=await g.h.uploadFile(e[0]);o(t)}catch(e){P(e instanceof Error?e.message:"Upload failed")}finally{F(!1)}}},[]),{getRootProps:R,getInputProps:M,isDragActive:I}=(0,x.uI)({onDrop:J,accept:{"application/pdf":[".pdf"]},maxFiles:1,maxSize:52428800}),Z=async()=>{if(a){y("processing"),k(0),P(null);try{let e=await g.h.rotatePdf(a.id,C);N(e.jobId)}catch(e){y("error"),P(e instanceof Error?e.message:"Failed to start rotation")}}},A=()=>{o(null),y("idle"),N(null),k(0),P(null),O(null),D(90)};return(0,s.jsx)("div",{className:"min-h-screen py-12 bg-gradient-to-b from-purple-50 to-white",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,s.jsxs)("div",{className:"text-center mb-10",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mx-auto mb-6 shadow-lg shadow-purple-500/25",children:(0,s.jsx)(l,{className:"w-10 h-10 text-white"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Rotate PDF"}),(0,s.jsx)("p",{className:"mt-3 text-lg text-slate-600",children:"Rotate your PDF pages 90\xb0, 180\xb0 or 270\xb0"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-slate-100",children:["idle"===j&&(0,s.jsxs)(s.Fragment,{children:[a?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center shadow-sm text-red-500",children:(0,s.jsx)(i.Z,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:a.originalName}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:(e=a.size)<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)("button",{onClick:()=>o(null),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:(0,s.jsx)(c.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("button",{onClick:()=>D(90),className:"p-6 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ".concat(90===C?"border-purple-500 bg-purple-50 text-purple-700":"border-slate-100 hover:border-purple-200 text-slate-600"),children:[(0,s.jsx)(l,{className:"w-8 h-8"}),(0,s.jsx)("span",{className:"font-medium",children:"Right 90\xb0"})]}),(0,s.jsxs)("button",{onClick:()=>D(270),className:"p-6 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ".concat(270===C?"border-purple-500 bg-purple-50 text-purple-700":"border-slate-100 hover:border-purple-200 text-slate-600"),children:[(0,s.jsx)(d,{className:"w-8 h-8"}),(0,s.jsx)("span",{className:"font-medium",children:"Left 90\xb0"})]}),(0,s.jsxs)("button",{onClick:()=>D(180),className:"p-6 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ".concat(180===C?"border-purple-500 bg-purple-50 text-purple-700":"border-slate-100 hover:border-purple-200 text-slate-600"),children:[(0,s.jsx)(h,{className:"w-8 h-8"}),(0,s.jsx)("span",{className:"font-medium",children:"180\xb0"})]})]}),(0,s.jsx)("div",{className:"text-center pt-4",children:(0,s.jsxs)("button",{onClick:Z,className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl font-semibold text-lg hover:from-purple-600 hover:to-purple-700 transition-all hover-lift shadow-lg shadow-purple-500/25",children:["Rotate PDF",(0,s.jsx)(u.Z,{className:"w-5 h-5"})]})})]}):(0,s.jsxs)("div",{...R(),className:"relative border-2 border-dashed rounded-2xl p-12 text-center cursor-pointer transition-all ".concat(I?"border-purple-500 bg-purple-50":"border-slate-300 hover:border-purple-400 hover:bg-slate-50"),children:[(0,s.jsx)("input",{...M()}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[E?(0,s.jsx)(n.Z,{className:"w-12 h-12 text-purple-500 animate-spin"}):(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center",children:(0,s.jsx)(l,{className:"w-8 h-8 text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-lg font-medium text-slate-700",children:I?"Drop PDF here...":"Drag & drop PDF here"}),(0,s.jsxs)("p",{className:"text-slate-500 mt-1",children:["or ",(0,s.jsx)("span",{className:"text-purple-600 font-medium",children:"browse file"})]})]}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Max 50MB"})]})]}),S&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-red-50 text-red-600 rounded-xl text-sm flex items-center gap-2 animate-in fade-in slide-in-from-top-2",children:[(0,s.jsx)(p.Z,{className:"w-5 h-5"}),S]})]}),"processing"===j&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(n.Z,{className:"w-16 h-16 text-purple-500 animate-spin mx-auto mb-6"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Rotating PDF..."}),(0,s.jsxs)("div",{className:"mt-4 max-w-xs mx-auto",children:[(0,s.jsx)("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-600 transition-all duration-300",style:{width:"".concat(v,"%")}})}),(0,s.jsxs)("p",{className:"mt-2 text-slate-500",children:[v,"% complete"]})]})]}),"completed"===j&&T&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(m.Z,{className:"w-10 h-10 text-green-600"})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Rotation Complete!"}),(0,s.jsx)("p",{className:"mt-2 text-slate-600",children:"Your PDF is ready to download"}),(0,s.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsxs)("button",{onClick:()=>{(null==T?void 0:T.url)&&window.open(T.url,"_blank")},className:"inline-flex items-center justify-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all hover-lift shadow-lg shadow-green-500/25",children:[(0,s.jsx)(f.Z,{className:"w-5 h-5"}),"Download PDF"]}),(0,s.jsx)("button",{onClick:A,className:"px-8 py-4 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:"Rotate Another"})]})]}),"error"===j&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(p.Z,{className:"w-10 h-10 text-red-600"})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Something went wrong"}),(0,s.jsx)("p",{className:"mt-2 text-red-600",children:S}),(0,s.jsx)("button",{onClick:A,className:"mt-8 px-8 py-4 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:"Try Again"})]})]}),(0,s.jsx)("div",{className:"mt-12 grid md:grid-cols-3 gap-6",children:[{step:"1",title:"Upload PDF",desc:"Drag and drop or browse to select your PDF file"},{step:"2",title:"Choose Rotation",desc:"Select 90\xb0 Left, 90\xb0 Right, or 180\xb0 rotation"},{step:"3",title:"Download",desc:"Click rotate and download your modified PDF"}].map(e=>(0,s.jsxs)("div",{className:"text-center p-6",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-100 text-purple-600 font-bold flex items-center justify-center mx-auto mb-4",children:e.step}),(0,s.jsx)("h4",{className:"font-semibold text-slate-900",children:e.title}),(0,s.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:e.desc})]},e.step))})]})})}},6741:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return n},a:function(){return i}});var s=a(7573),r=a(7653);let o=(0,r.createContext)(void 0),l="http://localhost:4000";function n(e){let{children:t}=e,[a,n]=(0,r.useState)(null),[i,c]=(0,r.useState)(null),[d,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("accessToken");e?(c(e),u(e)):h(!1)},[]);let u=async e=>{try{let t=await fetch("".concat(l,"/api/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();n(e)}else localStorage.removeItem("accessToken"),c(null)}catch(e){console.error("Failed to fetch user:",e)}finally{h(!1)}},p=async(e,t)=>{let a=await fetch("".concat(l,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok)throw Error((await a.json()).message||"Login failed");let s=await a.json();localStorage.setItem("accessToken",s.accessToken),c(s.accessToken),n(s.user)},m=async(e,t,a)=>{let s=await fetch("".concat(l,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:a})});if(!s.ok)throw Error((await s.json()).message||"Registration failed");let r=await s.json();localStorage.setItem("accessToken",r.accessToken),c(r.accessToken),n(r.user)};return(0,s.jsx)(o.Provider,{value:{user:a,token:i,login:p,register:m,logout:()=>{localStorage.removeItem("accessToken"),c(null),n(null)},isLoading:d},children:t})}function i(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5118:function(e,t,a){"use strict";a.d(t,{h:function(){return l}});let s="http://localhost:4000";function r(){let e=localStorage.getItem("accessToken"),t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t}class o{async uploadFile(e){let t=new FormData;t.append("file",e);let a=localStorage.getItem("accessToken"),r={};a&&(r.Authorization="Bearer ".concat(a));let o=await fetch("".concat(s,"/api/files/upload"),{method:"POST",headers:r,body:t});if(!o.ok)throw Error((await o.json().catch(()=>({}))).message||"Upload failed");return o.json()}async uploadMultiple(e){let t=new FormData;e.forEach(e=>t.append("files",e));let a=localStorage.getItem("accessToken"),r={};a&&(r.Authorization="Bearer ".concat(a));let o=await fetch("".concat(s,"/api/files/upload-multiple"),{method:"POST",headers:r,body:t});if(!o.ok)throw Error((await o.json().catch(()=>({}))).message||"Upload failed");return o.json()}async getDownloadUrl(e){let t=await fetch("".concat(s,"/api/files/").concat(e,"/download"),{headers:r()});if(!t.ok)throw Error("Failed to get download URL");return t.json()}async getJobStatus(e){let t=await fetch("".concat(s,"/api/jobs/").concat(e),{headers:r()});if(!t.ok)throw Error("Failed to get job status");return t.json()}async mergePdfs(e){let t=await fetch("".concat(s,"/api/tools/merge"),{method:"POST",headers:r(),body:JSON.stringify({fileIds:e})});if(!t.ok)throw Error((await t.json().catch(()=>({}))).message||"Merge request failed");return t.json()}async splitPdf(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=await fetch("".concat(s,"/api/tools/split"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,mode:t,...a})});if(!o.ok)throw Error((await o.json().catch(()=>({}))).message||"Split request failed");return o.json()}async compressPdf(e,t){let a=await fetch("".concat(s,"/api/tools/compress"),{method:"POST",headers:r(),body:JSON.stringify({fileIds:e,level:t})});if(!a.ok)throw Error((await a.json().catch(()=>({}))).message||"Compress request failed");return a.json()}async rotatePdf(e,t,a){let o=await fetch("".concat(s,"/api/tools/rotate"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,rotation:t,pageNumbers:a})});if(!o.ok)throw Error((await o.json().catch(()=>({}))).message||"Rotate request failed");return o.json()}async reorderPdf(e,t){let a=await fetch("".concat(s,"/api/tools/reorder"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,limit_order:t})});if(!a.ok)throw Error((await a.json().catch(()=>({}))).message||"Reorder request failed");return a.json()}async pdfToWord(e){let t=await fetch("".concat(s,"/api/tools/pdf-to-word"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e})});if(!t.ok)throw Error("Conversion failed");return t.json()}async wordToPdf(e){let t=await fetch("".concat(s,"/api/tools/word-to-pdf"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e})});if(!t.ok)throw Error("Conversion failed");return t.json()}async ocr(e,t){let a=await fetch("".concat(s,"/api/tools/ocr"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,language:t})});if(!a.ok)throw Error("OCR failed");return a.json()}async pdfToImage(e,t,a){let o=await fetch("".concat(s,"/api/tools/pdf-to-image"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,format:t,dpi:a})});if(!o.ok)throw Error("Conversion failed");return o.json()}async protectPdf(e,t,a){let o=await fetch("".concat(s,"/api/tools/protect"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,password:t,ownerPassword:a})});if(!o.ok)throw Error("Protection failed");return o.json()}async unlockPdf(e,t){let a=await fetch("".concat(s,"/api/tools/unlock"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,password:t})});if(!a.ok)throw Error("Unlock failed");return a.json()}async watermarkPdf(e,t,a){let o=await fetch("".concat(s,"/api/tools/watermark"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,text:t,...a})});if(!o.ok)throw Error("Watermark failed");return o.json()}async signPdf(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"handwritten",o=await fetch("".concat(s,"/api/tools/sign"),{method:"POST",headers:r(),body:JSON.stringify({fileId:e,text:t,style:a})});if(!o.ok)throw Error("Signing failed");return o.json()}}let l=new o},997:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(4313).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[116,293,528,744],function(){return e(e.s=643)}),_N_E=e.O()}]);